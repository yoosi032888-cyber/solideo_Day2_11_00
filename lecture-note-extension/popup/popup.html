<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LectureNote AI</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- ν—¤λ” -->
    <div class="header">
      <h1>π“ LectureNote AI</h1>
      <button id="settingsBtn" class="icon-btn" title="μ„¤μ •">β™οΈ</button>
    </div>

    <!-- μƒνƒ ν‘μ‹ -->
    <div class="status-section">
      <div class="status-item">
        <span>μƒνƒ:</span>
        <span id="recordingStatus" class="status-value">β— λ€κΈ° μ¤‘</span>
      </div>
      <div class="status-item">
        <span>Notion:</span>
        <span id="notionStatus" class="status-value">β λ―Έμ—°κ²°</span>
      </div>
    </div>

    <!-- μ μ–΄ λ²„νΌ -->
    <div class="controls">
      <button id="startBtn" class="btn btn-primary">
        π™οΈ λ…Ήμ μ‹μ‘
      </button>
      <button id="stopBtn" class="btn btn-secondary" disabled>
        βΉοΈ μ •μ§€
      </button>
    </div>

    <!-- μ‹¤μ‹κ°„ λ…ΈνΈ μ„Ήμ… -->
    <div class="notes-section">
      <h2>π“ μ‹¤μ‹κ°„ λ…ΈνΈ</h2>
      <div id="notesList" class="notes-list">
        <div class="empty-state">
          λ…Ήμμ„ μ‹μ‘ν•λ©΄ μ—¬κΈ°μ— λ…ΈνΈκ°€ ν‘μ‹λ©λ‹λ‹¤.
        </div>
      </div>
    </div>

    <!-- μ„¤μ • ν¨λ„ (μ¨κΉ€ μƒνƒ) -->
    <div id="settingsPanel" class="settings-panel hidden">
      <div class="settings-header">
        <h2>β™οΈ μ„¤μ •</h2>
        <button id="closeSettingsBtn" class="icon-btn">β•</button>
      </div>

      <div class="settings-content">
        <!-- OpenAI API ν‚¤ -->
        <div class="setting-group">
          <label for="openaiKey">π”‘ OpenAI API ν‚¤</label>
          <input
            type="password"
            id="openaiKey"
            placeholder="sk-..."
            class="input"
          />
          <a
            href="https://platform.openai.com/api-keys"
            target="_blank"
            class="link"
          >
            π”— λ°κΈ‰λ°›κΈ°
          </a>
        </div>

        <!-- Notion Integration Token -->
        <div class="setting-group">
          <label for="notionToken">π“’ Notion Integration Token</label>
          <input
            type="password"
            id="notionToken"
            placeholder="secret_..."
            class="input"
          />
          <a
            href="https://www.notion.so/my-integrations"
            target="_blank"
            class="link"
          >
            π”— λ°κΈ‰λ°›κΈ°
          </a>
        </div>

        <!-- Notion λ¶€λ¨ νμ΄μ§€/λ°μ΄ν„°λ² μ΄μ¤ ID -->
        <div class="setting-group">
          <label for="notionParentId">π“„ Notion λ¶€λ¨ νμ΄μ§€ ID</label>
          <input
            type="text"
            id="notionParentId"
            placeholder="νμ΄μ§€ λλ” λ°μ΄ν„°λ² μ΄μ¤ ID"
            class="input"
          />
          <small class="hint">
            λ…ΈνΈλ¥Ό μ €μ¥ν•  Notion νμ΄μ§€ λλ” λ°μ΄ν„°λ² μ΄μ¤μ IDλ¥Ό μ…λ ¥ν•μ„Έμ”.
          </small>
        </div>

        <!-- κ°•μ μ λ© -->
        <div class="setting-group">
          <label for="lectureTitle">π“ κ°•μ μ λ©</label>
          <input
            type="text"
            id="lectureTitle"
            placeholder="μ: μλ°”μ¤ν¬λ¦½νΈ κΈ°μ΄"
            class="input"
          />
        </div>

        <!-- μ €μ¥ λ²„νΌ -->
        <button id="saveSettingsBtn" class="btn btn-primary">
          μ €μ¥
        </button>

        <!-- μ—°κ²° ν…μ¤νΈ λ²„νΌ -->
        <button id="testConnectionBtn" class="btn btn-secondary">
          Notion μ—°κ²° ν…μ¤νΈ
        </button>

        <div id="settingsMessage" class="message hidden"></div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
